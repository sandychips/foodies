# Foodies Backend - Product Requirements Document (PRD)

## üéØ –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É

**–ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É:** Foodies - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±–º—ñ–Ω—É —Ä–µ—Ü–µ–ø—Ç–∞–º–∏  
**–¢–∏–ø –ø—Ä–æ–µ–∫—Ç—É:** Social cooking platform  
**–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:** REST API Backend + React Frontend  
**–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** PostgreSQL + Sequelize ORM  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API:** Swagger/OpenAPI  

## üìã –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏ Backend

### 1. –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (`/auth`)

#### –ü—É–±–ª—ñ—á–Ω—ñ endpoint'–∏:
- **POST /auth/register** - —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **POST /auth/login** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

#### –ü—Ä–∏–≤–∞—Ç–Ω—ñ endpoint'–∏:
- **POST /auth/logout** - –≤–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏ (–ø–æ—Ç—Ä–µ–±—É—î JWT —Ç–æ–∫–µ–Ω)

#### Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω—ñ–≤ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –º–∞—Ä—à—Ä—É—Ç—ñ–≤
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### 2. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ (`/users`)

#### –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
- **GET /users/current** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
  - –∞–≤–∞—Ç–∞—Ä, —ñ–º'—è, email
  - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤
  - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É–ª—é–±–ª–µ–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤  
  - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥–ø–∏—Å–Ω–∏–∫—ñ–≤
  - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥–ø–∏—Å–æ–∫

- **GET /users/:id** - –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —ñ–Ω—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
  - –∞–≤–∞—Ç–∞—Ä, —ñ–º'—è, email
  - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤
  - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—ñ–¥–ø–∏—Å–Ω–∏–∫—ñ–≤

#### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª–µ–º:
- **PATCH /users/avatar** - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

#### –°–∏—Å—Ç–µ–º–∞ –ø—ñ–¥–ø–∏—Å–æ–∫:
- **GET /users/followers** - —Å–ø–∏—Å–æ–∫ –ø—ñ–¥–ø–∏—Å–Ω–∏–∫—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **GET /users/following** - —Å–ø–∏—Å–æ–∫ –ø—ñ–¥–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **POST /users/:id/follow** - –ø—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **DELETE /users/:id/unfollow** - –≤—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### 3. –î–æ–≤—ñ–¥–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

#### –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó (`/categories`)
- **GET /categories** - —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ä–µ—Ü–µ–ø—Ç—ñ–≤

#### –†–µ–≥—ñ–æ–Ω–∏ (`/areas`)  
- **GET /areas** - —Å–ø–∏—Å–æ–∫ —Ä–µ–≥—ñ–æ–Ω—ñ–≤ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Å—Ç—Ä–∞–≤

#### –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ (`/ingredients`)
- **GET /ingredients** - —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤

#### –í—ñ–¥–≥—É–∫–∏ (`/testimonials`)
- **GET /testimonials** - —Å–ø–∏—Å–æ–∫ –≤—ñ–¥–≥—É–∫—ñ–≤ –ø—Ä–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É

### 4. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ (`/recipes`)

#### –ü—É–±–ª—ñ—á–Ω—ñ endpoint'–∏:
- **GET /recipes** - –ø–æ—à—É–∫ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏:
  - –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
  - –∑–∞ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–æ–º
  - –∑–∞ —Ä–µ–≥—ñ–æ–Ω–æ–º
  - –∑ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é
- **GET /recipes/:id** - –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–µ—Ü–µ–ø—Ç
- **GET /recipes/popular** - –ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏ (–∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –¥–æ–¥–∞–≤–∞–Ω—å –≤ —É–ª—é–±–ª–µ–Ω—ñ)

#### –ü—Ä–∏–≤–∞—Ç–Ω—ñ endpoint'–∏:
- **POST /recipes** - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç—É
- **DELETE /recipes/:id** - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç—É
- **GET /recipes/own** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–ª–∞—Å–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤
- **POST /recipes/:id/favorite** - –¥–æ–¥–∞—Ç–∏ —Ä–µ—Ü–µ–ø—Ç –≤ —É–ª—é–±–ª–µ–Ω—ñ
- **DELETE /recipes/:id/favorite** - –≤–∏–¥–∞–ª–∏—Ç–∏ —Ä–µ—Ü–µ–ø—Ç –∑ —É–ª—é–±–ª–µ–Ω–∏—Ö
- **GET /recipes/favorites** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —É–ª—é–±–ª–µ–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

### –¢–∞–±–ª–∏—Ü—ñ:

1. **users** - –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
2. **recipes** - —Ä–µ—Ü–µ–ø—Ç–∏
3. **categories** - –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
4. **areas** - —Ä–µ–≥—ñ–æ–Ω–∏
5. **ingredients** - —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏
6. **testimonials** - –≤—ñ–¥–≥—É–∫–∏
7. **user_followers** - –∑–≤'—è–∑–∫–∏ –ø—ñ–¥–ø–∏—Å–æ–∫ –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
8. **recipe_ingredients** - –∑–≤'—è–∑–∫–∏ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ —Ç–∞ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤
9. **user_favorite_recipes** - —É–ª—é–±–ª–µ–Ω—ñ —Ä–µ—Ü–µ–ø—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## üèóÔ∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏

### Stack —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π:
- **Node.js** (runtime)
- **Express.js** (web framework)
- **PostgreSQL** (–±–∞–∑–∞ –¥–∞–Ω–∏—Ö)
- **Sequelize** (ORM)
- **JWT** (–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è)
- **Multer** (upload —Ñ–∞–π–ª—ñ–≤)
- **Swagger** (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API)
- **Docker** (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è)
- **CORS** (cross-origin requests)

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏:
- **MVC pattern** - —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏
- **Middleware pattern** - –æ–±—Ä–æ–±–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤
- **Repository pattern** - —Ä–æ–±–æ—Ç–∞ –∑ –¥–∞–Ω–∏–º–∏
- **Error handling** - —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### –ë–µ–∑–ø–µ–∫–∞:
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö input –¥–∞–Ω–∏—Ö
- –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ (bcrypt)
- Rate limiting
- CORS –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- SQL injection –∑–∞—Ö–∏—Å—Ç (Sequelize ORM)

## üöÄ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

### –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞:
- **Docker Compose** –¥–ª—è PostgreSQL
- **Environment variables** –¥–ª—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- **Nodemon** –¥–ª—è hot reload

### Production (Render):
- **PostgreSQL** –Ω–∞ Render
- **Environment variables** –¥–ª—è production
- **Health checks** –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

- –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- Error tracking
- Performance metrics
- Database query optimization

## üîÑ API Documentation

- **Swagger UI** –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- **OpenAPI 3.0** —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- –ü—Ä–∏–∫–ª–∞–¥–∏ request/response –¥–ª—è –≤—Å—ñ—Ö endpoint'—ñ–≤

## üìù –î–æ–¥–∞—Ç–∫–æ–≤—ñ –≤–∏–º–æ–≥–∏

- **Seeding** - –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –ë–î –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑ JSON —Ñ–∞–π–ª—ñ–≤
- **Migrations** - –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è —Å—Ö–µ–º–∏ –ë–î
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è** - –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Joi –∞–±–æ –ø–æ–¥—ñ–±–Ω–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫
- **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è** - unit —Ç–∞ integration —Ç–µ—Å—Ç–∏
- **CI/CD** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è